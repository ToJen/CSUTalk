<!DOCTYPE html>
<!-- Created by pdf2htmlEX (https://github.com/coolwanglu/pdf2htmlex) -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8"/>

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<link rel="stylesheet" href="base.min.css"/>
<link rel="stylesheet" href="fancy.min.css"/>
<link rel="stylesheet" href="main.css"/>
<script src="compatibility.min.js"></script>
<script src="theViewer.min.js"></script>
<script>
try{
theViewer.defaultViewer = new theViewer.Viewer({});
}catch(e){}
</script>
<title></title>
</head>
<body>
<div id="sidebar">
<div id="outline">
</div>
</div>
<div id="page-container">
<div id="pf1" class="pf w0 h0" data-page-no="1"><div class="pc pc1 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg1.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x2 y3 w2 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 1 of 21</div></div><div class="t m0 x0 h5 y5 ff2 fs1 fc0 sc0 ls0 ws0">Beyond Horizons<span class="ff1"> - Build your dream app with </span>aMi STACX.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2" class="pf w0 h0" data-page-no="2"><div class="pc pc2 w0 h0"><img class="bi x0 y6 w3 h6" alt="" src="bg2.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x2 y3 w2 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 2 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">Congratulations! </div><div class="t m0 x0 h8 y8 ff4 fs3 fc0 sc0 ls0 ws0">And welcome to your Premium <span class="ff3">Laravel 5.5.x </span>stack powered by <span class="ff3">aMi STACX</span>.</div><div class="t m0 x0 h8 y9 ff4 fs3 fc0 sc0 ls0 ws0">Important! As a supported managed service aMi STACX will install and configure this AWS AMI stack for you should you not have </div><div class="t m0 x0 h8 ya ff4 fs3 fc0 sc0 ls0 ws0">enough experience with AWS hosting. Please contact support@amistacx.com to schedule. </div><div class="t m0 x0 h8 yb ff4 fs3 fc0 sc0 ls0 ws0">or</div><div class="t m0 x0 h8 yc ff3 fs3 fc0 sc0 ls0 ws0">DIY<span class="ff4"> - As this stack was designed to be as automated as possible, with the least amount of steps required to get you up and running </span></div><div class="t m0 x0 h8 yd ff4 fs3 fc0 sc0 ls0 ws0">quickly, please follow the directions closely to ensure success. </div><div class="t m0 x0 h8 ye ff4 fs3 fc0 sc0 ls0 ws0">It is best advised to get the product you purchased running per <span class="_ _4"></span>this documentation first! Then you have the option to customize your </div><div class="t m0 x0 h8 yf ff4 fs3 fc0 sc0 ls0 ws0">solution to your requirements.</div><div class="t m0 x0 h8 y10 ff4 fs3 fc0 sc0 ls0 ws0">These instructions for our stack assume the following:</div><div class="t m0 x0 h9 y11 ff5 fs3 fc0 sc0 ls0 ws0"> <span class="ff4">You have an <span class="ff3">Basic </span>understanding of the AWS console</span></div><div class="t m0 x0 h9 y12 ff5 fs3 fc0 sc0 ls0 ws0"> <span class="ff4">You have an <span class="ff3">Intermediate/Advanced</span> skill level and/or experience with a Linux stack and <span class="ff3">Laravel</span>. </span></div><div class="t m0 x0 h9 y13 ff5 fs3 fc0 sc0 ls0 ws0"> <span class="ff4">You have have a remote access SSH client, such as putty, and you understand how to create a ppk file from an AWS PEM file. </span></div><div class="t m0 x4 h8 y14 ff4 fs3 fc0 sc0 ls0 ws0">These credentials will allow you to connect to your new aMi STACX instance in your AWS availability zone. </div><div class="t m0 x0 ha y15 ff3 fs3 fc0 sc0 ls0 ws0">Putty SSH AWS: <span class="fc1">https://amistacx.com/aws-ami-stacx-connect-aws-putty.html</span></div><div class="t m0 x0 ha y16 ff3 fs3 fc0 sc0 ls0 ws0">WinSCP AWS Sudo: <span class="fc1">https://amistacx.com/aws-ami-stacx-winscp.html</span></div><a class="l" href="https://amistacx.com/aws-ami-stacx-connect-aws-putty.html"><div class="d m1" style="border-style:none;position:absolute;left:168.667999px;bottom:218.021957px;width:343.411957px;height:13.798996px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://amistacx.com/aws-ami-stacx-winscp.html"><div class="d m1" style="border-style:none;position:absolute;left:190.652008px;bottom:190.423965px;width:278.079987px;height:13.798996px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3" class="pf w0 h0" data-page-no="3"><div class="pc pc3 w0 h0"><img class="bi x0 y17 w4 hb" alt="" src="bg3.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x2 y3 w2 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 3 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">What’s New in v1.4</div><div class="t m0 x0 hc y18 ff5 fs2 fc0 sc0 ls0 ws0"><span class="_ _5"> </span><span class="ff3">Ubuntu Security Roll-up</span></div><div class="t m0 x0 h8 y19 ff3 fs3 fc0 sc0 ls0 ws0">Note:<span class="ff4"> See change log for full release update information.</span></div><div class="t m0 x0 hd y1a ff6 fs3 fc1 sc1 ls0 ws0">https:<span class="_ _6"></span>//amis<span class="_ _6"></span>tacx.c<span class="_ _6"></span>om/mp/<span class="_ _6"></span>stacx_<span class="_ _6"></span>change<span class="_ _6"></span>_logs/<span class="_ _6"></span>ami_st<span class="_ _6"></span>acx_la<span class="_ _6"></span>ravel_<span class="_ _6"></span>5.5.0_<span class="_ _6"></span>instal<span class="_ _6"></span>l_chan<span class="_ _6"></span>ge_log<span class="_ _6"></span>_v1.1.<span class="_ _6"></span>txt</div><a class="l" href="https://amistacx.com/mp/stacx_change_logs/ami_stacx_laravel_5.5.0_install_change_log_v1.1.txt"><div class="d m1" style="border-style:none;position:absolute;left:72.000000px;bottom:424.658936px;width:562.463989px;height:15.562012px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4" class="pf w0 h0" data-page-no="4"><div class="pc pc4 w0 h0"><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x2 y3 w2 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 4 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">I. Ubuntu 16.04.3 LTS Essentials</div><div class="t m0 x0 ha y1b ff3 fs3 fc0 sc0 ls0 ws0">Core Software Versions</div><div class="t m0 x0 hc y1c ff5 fs2 fc0 sc0 ls0 ws0"><span class="_ _5"> </span><span class="ff3">Ubuntu 16.04.3</span></div><div class="t m0 x0 hc y1d ff5 fs2 fc0 sc0 ls0 ws0"><span class="_ _5"> </span><span class="ff3">Apache 2.4.18</span></div><div class="t m0 x0 hc y1e ff5 fs2 fc0 sc0 ls0 ws0"><span class="_ _5"> </span><span class="ff3">MySQL 5.7.20</span></div><div class="t m0 x0 hc y1f ff5 fs2 fc0 sc0 ls0 ws0"><span class="_ _5"> </span><span class="ff3">PHP 7.0.22</span></div><div class="t m0 x0 hc y20 ff5 fs2 fc0 sc0 ls0 ws0"><span class="_ _5"> </span><span class="ff3">Laravel 5.5.0</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5" class="pf w0 h0" data-page-no="5"><div class="pc pc5 w0 h0"><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x2 y3 w2 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 5 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">II. FPM/PHP Memory Allocation &amp; Settings</div><div class="t m0 x0 h8 y1b ff3 fs3 fc0 sc0 ls0 ws0">Note:<span class="ff4"> Our stack is optimized for EC2 t-micro and t-small. You will need to adjust these settings for larger instances to achieve </span></div><div class="t m0 x0 h8 y21 ff4 fs3 fc0 sc0 ls0 ws0">maximum performance. </div><div class="t m0 x0 h8 y22 ff3 fs3 fc0 sc0 ls0 ws0">Note: <span class="ff4">FPM is running under </span><span class="fc1">www-data:www-data</span><span class="ff4"> [This means that should you deploy a web application under “/var/www/”, then it </span></div><div class="t m0 x0 h8 y23 ff4 fs3 fc0 sc0 ls0 ws0">is best to utilize the www-data user/group; otherwise, you need to update the FPM pool.]</div><div class="t m0 x0 ha y24 ff3 fs3 fc0 sc0 ls0 ws0">/etc/php/7.0/fpm/pool.d/www.conf</div><div class="t m0 x0 h8 y25 ff4 fs3 fc0 sc0 ls0 ws0">FPM Pool is set to <span class="ff3 fc1">ondemand</span> [This is to help t-micro and t-small Instances]</div><div class="t m0 x0 h8 y26 ff4 fs3 fc0 sc0 ls0 ws0">FPM Pool Settings for Server and Children default</div><div class="t m0 x0 h8 y27 ff4 fs3 fc0 sc0 ls0 ws0">pm.max_children = 32</div><div class="t m0 x0 h8 y28 ff4 fs3 fc0 sc0 ls0 ws0">pm.start_servers = 10</div><div class="t m0 x0 h8 y29 ff4 fs3 fc0 sc0 ls0 ws0">pm.min_spare_servers = 5</div><div class="t m0 x0 h8 y2a ff4 fs3 fc0 sc0 ls0 ws0">pm.max_spare_servers = 15</div><div class="t m0 x0 h8 y2b ff4 fs3 fc0 sc0 ls0 ws0">pm.max_requests = 500</div><div class="t m0 x0 h8 y2c ff3 fs3 fc0 sc0 ls0 ws0">Note:<span class="ff4"> Should <span class="_ _4"></span>you run <span class="_ _4"></span>into memory <span class="_ _4"></span>issues, these <span class="_ _4"></span>settings may <span class="_ _4"></span>need to <span class="_ _4"></span>be adjusted. <span class="_ _4"></span>Should you be <span class="_ _4"></span>running a <span class="_ _4"></span>medium or <span class="_ _4"></span>large+ EC2, </span></div><div class="t m0 x0 h8 y2d ff4 fs3 fc0 sc0 ls0 ws0">these settings should reflect the additional memory available.</div><div class="t m0 x0 ha y2e ff3 fs3 fc0 sc0 ls0 ws0">/etc/apache2/conf-enabled/php7.0-fpm.conf</div><div class="t m0 x0 h8 y2f ff4 fs3 fc0 sc0 ls0 ws0">Idle time set to 180. For really long-running scripts, you may need to adjust this higher; however, too high won&apos;t kill a runaway script </div><div class="t m0 x0 h8 y30 ff4 fs3 fc0 sc0 ls0 ws0">soon enough. </div><div class="t m0 x0 ha y31 ff3 fs3 fc0 sc0 ls0 ws0">/etc/apache2/mods-enabled/mpm_prefork.conf</div><div class="t m0 x0 h8 y32 ff4 fs3 fc0 sc0 ls0 ws0">MaxRequestWorkers<span class="_ _7"> </span>  <span class="_ _8"> </span>256 </div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6" class="pf w0 h0" data-page-no="6"><div class="pc pc6 w0 h0"><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x2 y3 w2 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 6 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">PHP 7.x settings</div><div class="t m0 x0 h8 y1b ff4 fs3 fc0 sc0 ls0 ws0">/etc/php/7.0/fpm</div><div class="t m0 x0 h8 y21 ff4 fs3 fc0 sc0 ls0 ws0">/etc/php/7.0/apache2</div><div class="t m0 x0 h8 y22 ff4 fs3 fc0 sc0 ls0 ws0">memory_limit = 256M</div><div class="t m0 x0 h8 y33 ff4 fs3 fc0 sc0 ls0 ws0">upload_max_filesize = 50M</div><div class="t m0 x0 h8 y34 ff4 fs3 fc0 sc0 ls0 ws0">post_max_size = 51M</div><div class="t m0 x0 h8 y24 ff4 fs3 fc0 sc0 ls0 ws0">max_execution_time = 90 </div><div class="t m0 x0 h7 y35 ff3 fs2 fc0 sc0 ls0 ws0">MYSQL [Non-default settings]</div><div class="t m0 x0 h8 y36 ff4 fs3 fc0 sc0 ls0 ws0">/etc/mysql/mysql.conf.d/mysqld.cnf</div><div class="t m0 x0 h8 y37 ff4 fs3 fc0 sc0 ls0 ws0">key_buffer_size<span class="_ _9"> </span>= 32M</div><div class="t m0 x0 h8 y38 ff4 fs3 fc0 sc0 ls0 ws0">max_allowed_packet<span class="_ _7"> </span>= 32M</div><div class="t m0 x0 h8 y39 ff4 fs3 fc0 sc0 ls0 ws0">thread_stack<span class="_ _a"> </span>= 193K</div><div class="t m0 x0 h8 y3a ff4 fs3 fc0 sc0 ls0 ws0">wait_timeout<span class="_ _b"> </span>= 60</div><div class="t m0 x0 h7 y3b ff3 fs2 fc0 sc0 ls0 ws0">Ubuntu System</div><div class="t m0 x0 h7 y3c ff3 fs3 fc0 sc0 ls0 ws0">Swap File = 1MB<span class="fs2"> <span class="ff4 fs4">[Not proportional to instance size. Should you deploy a stack larger than a t-small, then it suggested you adjust your swap </span></span></div><div class="t m0 x0 he y3d ff4 fs4 fc0 sc0 ls0 ws0">file no more than 2x RAM.]</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf7" class="pf w0 h0" data-page-no="7"><div class="pc pc7 w0 h0"><img class="bi x0 y3e w5 hf" alt="" src="bg7.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x2 y3 w2 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 7 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">III. AWS Security Group</div><div class="t m0 x0 h8 y3f ff4 fs3 fc0 sc0 ls0 ws0">When first creating your EC2 stack, make sure your AWS security group allows the following protocols: SSH, HTTP, HTTPS </div><div class="t m0 x0 h8 y40 ff4 fs3 fc0 sc0 ls0 ws0">incoming. The EC2 setup wizard should set these ports by default upon aMi STACX EC2 launch; however, it is good practice to </div><div class="t m0 x0 h8 y41 ff4 fs3 fc0 sc0 ls0 ws0">confirm these ports are open during initial setup. </div><div class="t m0 x0 h8 y42 ff3 fs3 fc0 sc0 ls0 ws0">Note:<span class="ff4"> It is recommended that you verify everything is working before changing the SSH to only allow specific connections. </span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf8" class="pf w0 h0" data-page-no="8"><div class="pc pc8 w0 h0"><img class="bi x0 y43 w6 h10" alt="" src="bg8.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x2 y3 w2 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 8 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">IV. AWS Elastic IP Address</div><div class="t m0 x0 h8 y3f ff4 fs3 fc0 sc0 ls0 ws0">If you have not done so already, it is recommended that you create an AWS elastic IP address associated to this new EC2 build </div><div class="t m0 x0 h8 y40 ff4 fs3 fc0 sc0 ls0 ws0">instance. This will allow you to start, stop, and reboot without having to update the public IP address connection information.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf9" class="pf w0 h0" data-page-no="9"><div class="pc pc9 w0 h0"><img class="bi x0 y44 w7 h11" alt="" src="bg9.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x2 y3 w2 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 9 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">V. AWS Public IP Address</div><div class="t m0 x0 h8 y45 ff4 fs3 fc0 sc0 ls0 ws0">After your image is built, first confirm you can access SSH, HTTP, and HTTPS.</div><div class="t m0 x0 h8 y46 ff4 fs3 fc0 sc0 ls0 ws0">Your IP address is the elastic public IP address. You use this for DNS and for SSH. </div><div class="t m0 x0 h8 y47 ff4 fs3 fc0 sc0 ls0 ws0">To check HTTP: <span class="ff3">Http:&lt;AWS_Public_IP_Address&gt;/</span></div><div class="t m0 x0 h8 y48 ff4 fs3 fc0 sc0 ls0 ws0">To check HTTPS: <span class="ff3">Https:&lt;AWS_Public_IP_Address&gt;/</span></div><div class="t m0 x0 h8 y49 ff3 fs3 fc0 sc0 ls0 ws0">Note: <span class="ff4">You will need to add an exception for HTTPS, as you are using a self-signed cert.</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa" class="pf w0 h0" data-page-no="a"><div class="pc pca w0 h0"><img class="bi x0 y4a w8 h12" alt="" src="bga.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 10 of 21</div></div><div class="t m0 x0 ha y4b ff3 fs3 fc0 sc0 ls0 ws0">Your HTTP or HTTPS test will show the Laravel Splash Screen - Success! </div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb" class="pf w0 h0" data-page-no="b"><div class="pc pcb w0 h0"><img class="bi x0 y4c wa h13" alt="" src="bgb.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 11 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">VI. DNS CloudFlare</div><div class="t m0 x0 h8 y1b ff4 fs3 fc0 sc0 ls0 ws0">Our instructions use DNS/CDN provider CloudFlare for examples, and is recommended for users with basic to intermediate </div><div class="t m0 x0 h8 y21 ff4 fs3 fc0 sc0 ls0 ws0">Administration/Networking skills. </div><div class="t m0 x0 h8 y22 ff4 fs3 fc0 sc0 ls0 ws0">CF offers a great easy to use DNS service, that is very user friendly, is <span class="ff3">Free</span> to use for basic features, and removes the complexity </div><div class="t m0 x0 h8 y23 ff4 fs3 fc0 sc0 ls0 ws0">that Amazon’s AWS Route 53 introduces. </div><div class="t m0 x0 h8 y24 ff4 fs3 fc0 sc0 ls0 ws0">It’s a great starting point to get up and running quickly!</div><div class="t m0 x0 ha y25 ff3 fs3 fc1 sc0 ls0 ws0">https://www.cloudflare.com/plans/</div><div class="t m0 x0 h7 y4d ff3 fs2 fc0 sc0 ls0 ws0">VII. Recommended Stack Configurations [Optional - For advanced Linux Users]</div><div class="t m0 x0 h8 y4e ff3 fs3 fc0 sc0 ls0 ws0">Note: <span class="ff4">Should you want to use a DNS-friendly name and real SSL cert, follow directions in this section; otherwise, you may proceed </span></div><div class="t m0 x0 h8 y4f ff4 fs3 fc0 sc0 ls0 ws0">with the next section.</div><div class="t m0 x0 ha y50 ff3 fs3 fc0 sc0 ls0 ws0">Friendly DNS Name w/ Domain or Subdomain</div><div class="t m0 x0 h8 y51 ff4 fs3 fc0 sc0 ls0 ws0">[<span class="ff3">Note: </span>It is important that you consider using a subdomain as you may want to use a free certificate(s) from Let’s Encrypt and they </div><div class="t m0 x0 h8 y52 ff4 fs3 fc0 sc0 ls0 ws0">do not offer wildcard certs - yet! This stack is configured to use Let’s Encrypt. For example, www is considered a subdomain, and if </div><div class="t m0 x0 h8 y53 ff4 fs3 fc0 sc0 ls0 ws0">you wanted to use both www and yourdomain.com you would require two certificates.]</div><div class="t m0 x0 h8 y54 ff4 fs3 fc0 sc0 ls0 ws0">In conjunction <span class="_ _4"></span>with <span class="_ _4"></span>external DNS, <span class="_ _4"></span>if <span class="_ _4"></span>want to <span class="_ _4"></span>use <span class="_ _4"></span>a <span class="_ _4"></span>friendly name, <span class="_ _4"></span>you <span class="_ _4"></span>will need <span class="_ _4"></span>to <span class="_ _4"></span>access the <span class="_ _4"></span>server <span class="_ _4"></span>via <span class="_ _4"></span>SSH and <span class="_ _4"></span>use <span class="_ _4"></span>the ubuntu <span class="_ _4"></span>user </div><div class="t m0 x0 h8 y55 ff4 fs3 fc0 sc0 ls0 ws0">to sudo to update the following:</div><div class="t m0 x0 ha y56 ff3 fs3 fc1 sc0 ls0 ws0">1A. Subdomain: [Example. www.yourdomain.com]</div><div class="t m0 x0 ha y57 ff3 fs3 fc0 sc0 ls0 ws0">sudo nano /etc/apache2/sites-available/yourdomain.conf</div><div class="t m0 x0 h8 y58 ff4 fs3 fc0 sc0 ls0 ws0">Un-comment line “remove #” and update ServerAlias to <span class="ff7 fc1">subdomain</span>.<span class="ff3">yourdomain.com   <span class="_ _c"> </span>[where yourdomain.com = your </span></div><div class="t m0 x0 ha y59 ff3 fs3 fc0 sc0 ls0 ws0">domain name]</div><a class="l" href="https://www.cloudflare.com/plans/"><div class="d m1" style="border-style:none;position:absolute;left:72.000000px;bottom:391.924957px;width:194.688995px;height:13.799011px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc" class="pf w0 h0" data-page-no="c"><div class="pc pcc w0 h0"><img class="bi x6 y5a wb h14" alt="" src="bgc.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 12 of 21</div></div><div class="t m0 x0 ha y4b ff3 fs3 fc0 sc0 ls0 ws0">sudo nano /etc/apache2/sites-available/yourdomain-ssl.conf</div><div class="t m0 x0 h8 y5b ff4 fs3 fc0 sc0 ls0 ws0">Un-comment line “remove #” and update ServerAlias to <span class="ff7 fc1">subdomain</span>.<span class="ff3">yourdomain.com   <span class="_ _c"> </span>[where yourdomain.com = your </span></div><div class="t m0 x0 ha y5c ff3 fs3 fc0 sc0 ls0 ws0">domain name]</div><div class="t m0 x0 h8 y5d ff3 fs3 fc0 sc0 ls0 ws0">Save files! <span class="ff4">And run from CLI:</span>  <span class="_ _8"> </span>sudo service apache2 restart</div><div class="t m0 x0 ha y5e ff3 fs3 fc0 sc0 ls0 ws0">1B. Point external A record DNS to your new subdomain &gt; <span class="ff7 fc1">subdomain</span>.yourdomain.com</div><div class="t m0 x0 ha y5f ff3 fs3 fc1 sc0 ls0 ws0">2A. Domain: [Example. yourdomain.com]</div><div class="t m0 x0 ha y60 ff3 fs3 fc0 sc0 ls0 ws0">sudo nano /etc/apache2/sites-available/yourdomain.conf</div><div class="t m0 x0 h8 y61 ff4 fs3 fc0 sc0 ls0 ws0">Un-comment line “remove #” and update ServerName to <span class="ff7 fc1">yourdomain.com</span><span class="ff3">   <span class="_ _c"> </span>[where yourdomain.com = your domain name]</span></div><div class="t m0 x0 ha y62 ff3 fs3 fc0 sc0 ls0 ws0">sudo nano /etc/apache2/sites-available/yourdomain-ssl.conf</div><div class="t m0 x0 h8 y63 ff4 fs3 fc0 sc0 ls0 ws0">Un-comment line “remove #” and update ServerName to <span class="ff7 fc1">yourdomain.com</span><span class="ff3">   <span class="_ _c"> </span>[where yourdomain.com = your domain name]</span></div><div class="t m0 x0 h8 y64 ff3 fs3 fc0 sc0 ls0 ws0">Save files! <span class="ff4">And run from CLI:</span>  <span class="_ _8"> </span>sudo service apache2 restart</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd" class="pf w0 h0" data-page-no="d"><div class="pc pcd w0 h0"><img class="bi x0 y65 w8 h15" alt="" src="bgd.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 13 of 21</div></div><div class="t m0 x0 ha y4b ff3 fs3 fc0 sc0 ls0 ws0">2B. Point external DNS A record to your new subdomain &gt; <span class="ff7 fc1">subdomain</span>.yourdomain.com</div><div class="t m0 x0 ha y5b ff3 fs3 fc0 sc0 ls0 ws0">e.g.</div><div class="t m0 x0 h8 y66 ff3 fs3 fc0 sc0 ls0 ws0">Image: <span class="_ _4"></span>CloudFlare <span class="_ _4"></span>Panel <span class="_ _4"></span>; <span class="_ _4"></span>Note: <span class="_ _4"></span><span class="ff4">The <span class="_ _4"></span>gray <span class="_ _4"></span>cloud <span class="_ _4"></span><span class="ff3">is <span class="_ _4"></span>required<span class="ff4"> <span class="_ _4"></span>at <span class="_ _4"></span>this <span class="_ _4"></span>step <span class="_ _4"></span>because <span class="_ _4"></span>we <span class="_ _4"></span>still <span class="_ _4"></span>need <span class="_ _4"></span>to <span class="_ _4"></span>get <span class="_ _4"></span>the <span class="_ _4"></span>SSL <span class="_ _4"></span>certificate; <span class="_ _4"></span>otherwise, </span></span></span></div><div class="t m0 x0 h8 y67 ff4 fs3 fc0 sc0 ls0 ws0">you will get a handshake error.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe" class="pf w0 h0" data-page-no="e"><div class="pc pce w0 h0"><img class="bi x0 y68 wc h16" alt="" src="bge.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 14 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">VIII. SSL Configuration [Optional]</div><div class="t m0 x0 h8 y1b ff4 fs3 fc0 sc0 ls0 ws0">This <span class="_ _4"></span>stack <span class="_ _4"></span>comes <span class="_ _4"></span>with <span class="_ _4"></span>a <span class="_ _d"></span>dummy <span class="_ _d"></span>SSL certificate. <span class="_ _d"></span>Should you <span class="_ _d"></span>want to <span class="_ _d"></span>utilize <span class="_ _d"></span>a <span class="ff3 fc1">Free</span> <span class="_ _d"></span>CloudFlare plan <span class="_ _d"></span>such <span class="_ _4"></span>as <span class="_ _d"></span>a front-run <span class="_ _d"></span>DNS and <span class="_ _d"></span>CDN </div><div class="t m0 x0 h8 y21 ff4 fs3 fc0 sc0 ls0 ws0">provider, then you can use CloudFlare’s <span class="ff3 fc1">Full SSL</span> to map to the Dummy SSL without any additional SSL local configurations.</div><div class="t m0 x0 h8 y22 ff4 fs3 fc0 sc0 ls0 ws0">This approach is the easiest to maintain and adds the least amount of configuration and complication. See option B. </div><div class="t m0 x0 h8 y34 ff4 fs3 fc1 sc0 ls0 ws0">https://support.cloudflare.com/hc/en-us/articles/200170416-What-do-the-SSL-options-mean-</div><div class="t m0 x0 ha y25 ff3 fs3 fc0 sc0 ls0 ws0">Let’s Encrypt Option A:</div><div class="t m0 x0 h8 y26 ff3 fs3 fc0 sc0 ls0 ws0">Note:<span class="ff4"> Before you begin - DNS must resolve! In other words, <span class="fc1">http://subdomain.yourdomain.com</span> or <span class="fc1">http://yourdomain.com </span>must </span></div><div class="t m0 x0 h8 y69 ff4 fs3 fc0 sc0 ls0 ws0">resolve correctly to your AWS elastic public IP address. Let’s Encrypt requires this otherwise the process will fail.</div><div class="t m0 x0 h8 y28 ff4 fs3 fc0 sc0 ls0 ws0">After confirming the DNS, to get your free certificate from let’s encrypt - CLI:</div><div class="t m0 x0 h8 y2a ff3 fs3 fc0 sc0 ls0 ws0">sudo certbot --apache -d<span class="ff4"> <span class="ff7 fc1">yourdomain.com</span></span></div><div class="t m0 x0 ha y6a ff3 fs3 fc0 sc0 ls0 ws0">Or</div><div class="t m0 x0 h8 y6b ff3 fs3 fc0 sc0 ls0 ws0">sudo certbot --apache -d<span class="ff4"> <span class="ff7 fc1">subdomain.yourdomain.com</span></span></div><div class="t m0 x0 ha y6c ff3 fs3 fc0 sc0 ls0 ws0">&lt;continued&gt;</div><a class="l" href="https://support.cloudflare.com/hc/en-us/articles/200170416-What-do-the-SSL-options-mean-"><div class="d m1" style="border-style:none;position:absolute;left:72.000000px;bottom:433.321960px;width:488.917969px;height:13.799011px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff" class="pf w0 h0" data-page-no="f"><div class="pc pcf w0 h0"><img class="bi x0 y6d wd h17" alt="" src="bgf.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 15 of 21</div></div><div class="t m0 x0 ha y4b ff3 fs3 fc0 sc0 ls0 ws0">Then select Option 2. Make all requests redirect to HTTPS [This places a redirect statement in yourdomain.conf]</div><div class="t m0 x0 h8 y6e ff3 fs3 fc0 sc0 ls0 ws0">Note: <span class="ff4">The cert expires every 90 days, you will need to set up a cron job to renew (see next page).</span></div><div class="t m0 x0 h8 y6f ff3 fs3 fc0 sc0 ls0 ws0">Note: <span class="ff4">Troubleshooting CloudFlare </span>TLS HandShake<span class="ff4"> Error:</span></div><div class="t m0 x0 h8 y70 ff4 fs3 fc0 sc0 ls0 ws0">Should you get a TLS handshake error, please review this article. </div><div class="t m0 x0 h8 y71 ff4 fs3 fc1 sc0 ls0 ws0">https://amistacx.com/ami-stacx-aws-letsencrypt-cloudflare.html</div><div class="t m0 x0 ha y72 ff3 fs3 fc0 sc0 ls0 ws0">&lt;continued&gt;</div><a class="l" href="https://amistacx.com/ami-stacx-aws-letsencrypt-cloudflare.html"><div class="d m1" style="border-style:none;position:absolute;left:72.000000px;bottom:314.323975px;width:333.428009px;height:13.799011px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf10" class="pf w0 h0" data-page-no="10"><div class="pc pc10 w0 h0"><img class="bi x0 y73 we h18" alt="" src="bg10.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 16 of 21</div></div><div class="t m0 x0 ha y4b ff3 fs3 fc0 sc0 ls0 ws0">C. Cron Setup [Required for Let’s Encrypt]</div><div class="t m0 x0 h8 y5b ff4 fs3 fc0 sc0 ls0 ws0">To run the renewal <span class="_ _4"></span>cert check daily, we <span class="_ _d"></span>will use cron, a standard system service for <span class="_ _d"></span>running periodic jobs. We tell cron what <span class="_ _4"></span>to do by </div><div class="t m0 x0 h8 y5c ff4 fs3 fc0 sc0 ls0 ws0">opening and editing a file called a crontab.</div><div class="t m0 x4 ha y5d ff3 fs3 fc0 sc0 ls0 ws0">sudo nano /etc/crontab -e</div><div class="t m0 x0 h8 y74 ff4 fs3 fc0 sc0 ls0 ws0">Your text <span class="_ _d"></span>edi<span class="_ _6"></span>tor will <span class="_ _d"></span>open the default crontab <span class="_ _d"></span>which is a text <span class="_ _d"></span>file. Paste in <span class="_ _d"></span>the<span class="_ _6"></span> following <span class="_ _d"></span>line at the end <span class="_ _d"></span>of the file <span class="_ _4"></span>[as shown], <span class="_ _4"></span>then save </div><div class="t m0 x0 h8 y75 ff4 fs3 fc0 sc0 ls0 ws0">and close it:</div><div class="t m0 x0 ha y76 ff3 fs3 fc1 sc0 ls0 ws0">11 4  <span class="_ _8"> </span>* * * root  <span class="_ _8"> </span>/usr/bin/certbot renew --quiet</div><div class="t m0 x0 h8 y77 ff4 fs3 fc0 sc0 ls0 ws0">The 11 4 * * * part of this line means &quot;run the following command at 4:11 am, every day&quot;. You may choose any time.</div><div class="t m0 x0 h8 y78 ff4 fs3 fc0 sc0 ls0 ws0">The renew command for Certbot will check all certificates installed on the system and update any that are set to expire in less than </div><div class="t m0 x0 h8 y79 ff4 fs3 fc0 sc0 ls0 ws0">thirty days. --quiet tells Certbot not to output information nor wait for user input.</div><div class="t m0 x0 h8 y7a ff3 fs3 fc0 sc0 ls0 ws0">Note:<span class="ff4"> Make sure outbound HTTP is open as the cron will poll the remote cert source via the cron job. This is normally the default </span></div><div class="t m0 x0 h8 y7b ff4 fs3 fc0 sc0 ls0 ws0">from the AWS security group. Allowing ALL. </div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf11" class="pf w0 h0" data-page-no="11"><div class="pc pc11 w0 h0"><img class="bi x0 y7c wf h19" alt="" src="bg11.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 17 of 21</div></div><div class="t m0 x0 h8 y4b ff3 fs3 fc0 sc0 ls0 ws0">CloudFlare Option B:<span class="ff4"> </span></div><div class="t m0 x0 ha y5b ff3 fs3 fc1 sc0 ls0 ws0">https://www.cloudflare.com/plans/</div><div class="t m0 x0 ha y66 ff3 fs3 fc0 sc0 ls0 ws0">CloudFlare is a simplistic way to have your CDN, DNS, Free SSL, and WAF all in one place. It is recommend for those that </div><div class="t m0 x0 ha y67 ff3 fs3 fc0 sc0 ls0 ws0">enjoy using a GUI, less complication, and ease of use.  </div><div class="t m0 x0 h8 y74 ff4 fs3 fc0 sc0 ls0 ws0">Sign up, add your domain, have CF host your DNS, create a subdomain or domain mapping to your AWS elastic IP address. For </div><div class="t m0 x0 h8 y75 ff4 fs3 fc0 sc0 ls0 ws0">Example, <span class="ff7 fc1">subdomain.yourdomain.com</span> or <span class="ff7 fc1">yourdomain.com</span></div><div class="t m0 x0 h8 y76 ff3 fs3 fc0 sc0 ls0 ws0">Note:<span class="ff4"> This Stack is CloudFlare Aware! You do not need to make any modification to see visitors IP addresses should you use this </span></div><div class="t m0 x0 h8 y7d ff4 fs3 fc0 sc0 ls0 ws0">stack for Piwik Analytics.</div><div class="t m0 x0 h8 y60 ff3 fs3 fc0 sc0 ls0 ws0">SSL Info:<span class="ff4"> </span><span class="fc1">https://support.cloudflare.com/hc/en-us/articles/200170416-What-do-the-SSL-options-mean-</span></div><div class="t m0 x0 h8 y61 ff3 fs3 fc0 sc0 ls0 ws0">Step 1. <span class="_ _4"></span><span class="ff4">After you create <span class="_ _d"></span>your DNS and point <span class="_ _d"></span>to the AWS public <span class="_ _4"></span>IP address, <span class="_ _4"></span>just make <span class="_ _4"></span>sure your CloudFlare <span class="_ _d"></span>Cert is set to <span class="_ _d"></span>FULL. This </span></div><div class="t m0 x0 h8 y7e ff4 fs3 fc0 sc0 ls0 ws0">will map to your self-signed server certificates or any of your own certs that you may want to use. </div><div class="t m0 x0 h8 y7f ff3 fs3 fc0 sc0 ls0 ws0">Step 2.<span class="ff4"> Once HTTPS <span class="_ _d"></span>is working [without getting prompted to <span class="_ _4"></span>add an exception] you’ll <span class="_ _d"></span>know as your browser lock will say <span class="_ _d"></span>secured by </span></div><div class="t m0 x0 h8 y80 ff4 fs3 fc0 sc0 ls0 ws0">Comodo. All you need to do is set up any HTTP to HTTPS redirect you may want to use. Many times installed applications handle </div><div class="t m0 x0 h8 y81 ff4 fs3 fc0 sc0 ls0 ws0">this for your; otherwise, it is easiest to use CloudFlare’s re-write rule. Check out our blog for examples:</div><div class="t m0 x0 ha y82 ff3 fs3 fc1 sc0 ls0 ws0">https://amistacx.com</div><div class="t m0 x0 ha y83 ff3 fs3 fc1 sc0 ls0 ws0"> </div><a class="l" href="https://www.cloudflare.com/plans/"><div class="d m1" style="border-style:none;position:absolute;left:72.000000px;bottom:506.916931px;width:194.688995px;height:13.799011px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://support.cloudflare.com/hc/en-us/articles/200170416-What-do-the-SSL-options-mean-"><div class="d m1" style="border-style:none;position:absolute;left:127.992004px;bottom:355.127960px;width:522.744019px;height:13.799011px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://amistacx.com/"><div class="d m1" style="border-style:none;position:absolute;left:72.000000px;bottom:230.936966px;width:119.367004px;height:13.798996px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf12" class="pf w0 h0" data-page-no="12"><div class="pc pc12 w0 h0"><img class="bi x0 y84 w10 h1a" alt="" src="bg12.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 18 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">IX. MySQL 5.7 Connection information</div><div class="t m0 x0 h8 y3f ff4 fs3 fc0 sc0 ls0 ws0">Login = root</div><div class="t m0 x0 h8 y85 ff4 fs3 fc0 sc0 ls0 ws0">Password = your AWS Instance ID</div><div class="t m0 x0 h8 y42 ff4 fs3 fc0 sc0 ls0 ws0">Password is your EC2 Instance ID. From AWS Web Console, or obtain via CLI: ~$ <span class="ff3">ec2metadata --instance-id</span></div><div class="t m0 x0 ha y86 ff3 fs3 fc0 sc0 ls0 ws0">Example from AWS console:</div><div class="t m0 x0 h8 y87 ff3 fs3 fc0 sc0 ls0 ws0">IMPORTANT! <span class="ff4">Please store this password in a safe location as you may later change EC2 instance IDs, and forget your password.</span></div><div class="t m0 x0 h8 y88 ff3 fs3 fc0 sc0 ls0 ws0">NOTE:<span class="ff1 fs1"> </span><span class="ff4">You would also use these very same credentials to access the database through phpMyadmin. </span></div><div class="t m0 x0 ha y89 ff3 fs3 fc1 sc0 ls0 ws0">http(s)://Your_AWS_Public_IP_or_Hostname/phpmyadmin</div><div class="t m0 x0 h7 y8a ff3 fs2 fc0 sc0 ls0 ws0">X. Email Configuration</div><div class="t m0 x0 h8 y8b ff4 fs3 fc0 sc0 ls0 ws0">Postfix is installed but is <span class="ff3">not</span> configured! Should you have NO requirement for Postfix, please remove it.</div><div class="t m0 x0 h8 y8c ff4 fs3 fc0 sc0 ls0 ws0">To uninstall:</div><div class="t m0 x0 ha y8d ff3 fs3 fc1 sc0 ls0 ws0">sudo apt-get remove postfix</div><div class="t m0 x0 h8 y8e ff4 fs3 fc0 sc0 ls0 ws0">It is advised should you use <span class="_ _4"></span>our stack for WordPress, Magento, or <span class="_ _d"></span>other CMS, using an SMTP plugin that makes life a lot <span class="_ _4"></span>better and </div><div class="t m0 x0 h8 y8f ff4 fs3 fc0 sc0 ls0 ws0">a lot easier to configure. ;-) </div><div class="t m0 x0 ha y90 ff3 fs3 fc0 sc0 ls0 ws0">Ref.</div><div class="t m0 x0 h8 y91 ff4 fs3 fc1 sc0 ls0 ws0">https://help.ubuntu.com/community/Postfix</div><div class="t m0 x0 h8 y92 ff4 fs3 fc1 sc0 ls0 ws0">https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-postfix-on-ubuntu-16-04</div><a class="l" href="https://help.ubuntu.com/community/Postfix"><div class="d m1" style="border-style:none;position:absolute;left:72.000000px;bottom:105.124954px;width:225.438995px;height:13.798996px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-postfix-on-ubuntu-16-04"><div class="d m1" style="border-style:none;position:absolute;left:72.000000px;bottom:77.526962px;width:544.916016px;height:13.798996px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf13" class="pf w0 h0" data-page-no="13"><div class="pc pc13 w0 h0"><img class="bi x0 y93 w11 hb" alt="" src="bg13.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 19 of 21</div></div><div class="t m0 x0 h1b y7 ff3 fs2 fc0 sc0 ls0 ws0">XI.<span class="ff4"> </span>Post Install Security</div><div class="t m0 x0 ha y1b ff3 fs3 fc0 sc0 ls0 ws0">1. Lock-down http{s}://&lt;yourdomain&gt;/phpmyadmin</div><div class="t m0 x0 h8 y94 ff4 fs3 fc0 sc0 ls0 ws0">For a production environment, it is strongly suggested you implement a second level of security on the phpMyadmin URL or move it </div><div class="t m0 x0 h8 y22 ff4 fs3 fc0 sc0 ls0 ws0">to another port and then use AWS SG policies to restrict access.</div><div class="t m0 x0 h8 y34 ff4 fs3 fc0 sc0 ls0 ws0">For MFA perform the following from CLI:</div><div class="t m0 x0 ha y95 ff3 fs3 fc0 sc0 ls0 ws0">A. sudo nano /etc/apache2/conf-available/phpmyadmin.conf</div><div class="t m0 x0 h8 y96 ff4 fs3 fc0 sc0 ls0 ws0">Uncomment:       <span class="_ _e"> </span>AllowOverride All</div><div class="t m0 x0 h8 y97 ff3 fs3 fc0 sc0 ls0 ws0">B<span class="ff4">. </span>sudo systemctl restart apache2</div><div class="t m0 x0 h8 y28 ff3 fs3 fc0 sc0 ls0 ws0">C.<span class="ff4"> sudo htpasswd -c /etc/phpmyadmin/.htpasswd <span class="ff7 fc1">username</span></span>   <span class="_ _c"> </span><span class="ff4">[You are setting username and password for the link.]</span></div><div class="t m0 x0 h8 y2a ff4 fs3 fc0 sc0 ls0 ws0">Now when you visit the /phpmyadmin you will be presented with an additional authorization box. </div><div class="t m0 x0 ha y6a ff3 fs3 fc0 sc0 ls0 ws0">2. Delete the directory that contains the aMi STACX Help Documentation from:</div><div class="t m0 x0 ha y6b ff3 fs3 fc0 sc0 ls0 ws0"> <span class="_ _f"> </span>/var/www/laravel/public<span class="fc1">/ami_stacx_{YourApplication}install/</span></div><div class="t m0 x0 h8 y2e ff3 fs3 fc0 sc0 ls0 ws0">Note:<span class="ff4"> A PDF backup copy is available in your ssh user’s home directory]</span></div><div class="t m0 x0 ha y2f ff3 fs3 fc0 sc0 ls0 ws0">3. PostFix Removal [If not needed, best to remove]</div><div class="t m0 x0 ha y98 ff3 fs3 fc0 sc0 ls0 ws0">Uninstall: <span class="fc1">sudo apt-get remove postfix</span></div><div class="t m0 x0 h7 y99 ff3 fs3 fc0 sc0 ls0 ws0">4.<span class="fs2"> </span>SSH Security Group Permissions</div><div class="t m0 x0 h8 y9a ff4 fs3 fc0 sc0 ls0 ws0">Consider restricting access to the SSH port via your AWS security group. As per the below article outlines.</div><div class="t m0 x0 ha y9b ff3 fs3 fc1 sc0 ls0 ws0">https://amistacx.com/aws-ami-stacx-sg-ssh.html</div><a class="l" href="https://amistacx.com/aws-ami-stacx-sg-ssh.html"><div class="d m1" style="border-style:none;position:absolute;left:72.000000px;bottom:74.547958px;width:276.082001px;height:13.798996px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf14" class="pf w0 h0" data-page-no="14"><div class="pc pc14 w0 h0"><img class="bi x0 y9c w12 h1c" alt="" src="bg14.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 20 of 21</div></div><div class="t m0 x0 ha y4b ff3 fs3 fc0 sc0 ls0 ws0">5. Change MySQL Root Password</div><div class="t m0 x0 h8 y3f ff4 fs3 fc0 sc0 ls0 ws0">The default root password = your EC2 instance ID. This is shown in the AWS console. Consider changing it to a unique value.</div><div class="t m0 x0 h7 y9d ff3 fs2 fc0 sc0 ls0 ws0">XII. What’s Next?</div><div class="t m0 x0 h8 y9e ff4 fs3 fc0 sc0 ls0 ws0">Be sure to checkout our Laravel and main site’s Blog for tips and assistance.</div><div class="t m0 x0 ha y9f ff3 fs3 fc1 sc0 ls0 ws0">https://laravel.amistacx.com/</div><div class="t m0 x0 ha ya0 ff3 fs3 fc1 sc0 ls0 ws0">https://amistacx.com</div><a class="l" href="https://laravel.amistacx.com/"><div class="d m1" style="border-style:none;position:absolute;left:72.000000px;bottom:385.024963px;width:164.067993px;height:13.799011px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://amistacx.com/"><div class="d m1" style="border-style:none;position:absolute;left:72.000000px;bottom:357.426941px;width:119.367004px;height:13.799011px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf15" class="pf w0 h0" data-page-no="15"><div class="pc pc15 w0 h0"><img class="bi x0 ya1 w1 h1d" alt="" src="bg15.png"/><div class="c x1 y1 w0 h2"><div class="t m0 x0 h3 y2 ff1 fs0 fc0 sc0 ls0 ws0">Laravel 5.5.x    <span class="_ _0"> </span>Document Version 1.4     <span class="_ _1"> </span>Copyright © 2017  <span class="_ _2"> </span>White Square Media, Inc.   <span class="_ _3"> </span>All Rights Reserved.       </div></div><div class="c x5 y3 w9 h4"><div class="t m0 x3 h3 y4 ff1 fs0 fc0 sc0 ls0 ws0">Page 21 of 21</div></div><div class="t m0 x0 h7 y7 ff3 fs2 fc0 sc0 ls0 ws0">XIII. Support</div><div class="t m0 x0 h8 y1b ff4 fs3 fc0 sc0 ls0 ws0">Should you need help or have questions, please reach out to support. We will do our best to respond within 24hrs.<span class="ff3"> </span></div><div class="t m0 x0 ha ya2 ff3 fs3 fc0 sc0 ls0 ws0">Email: support@amistacx.com</div><div class="t m0 x0 ha ya3 ff3 fs3 fc0 sc0 ls0 ws0">Home &amp; Blog: <span class="fc1">https://amistacx.com</span></div><div class="t m0 x0 h7 ya4 ff4 fs3 fc0 sc0 ls0 ws0">Or just leave us some great feedback to let us know how we are doing. Should it not be <span class="ff3 fs2 fc2">5-star</span>, please let us know how we can </div><div class="t m0 x0 h8 ya5 ff4 fs3 fc0 sc0 ls0 ws0">improve or assist you before leaving feedback.</div><div class="t m0 x0 h8 ya6 ff3 fs3 fc0 sc0 ls0 ws0">Very Important!<span class="ff4"> We may update our stacks to improve performance, address bugs, or for security upgrades. However, Amazon </span></div><div class="t m0 x0 h8 ya7 ff4 fs3 fc0 sc0 ls0 ws0">takes almost two weeks for new updates to be released, and we have no way to contact you!</div><div class="t m0 x0 h8 ya8 ff4 fs3 fc0 sc0 ls0 ws0">It is strongly recommended that you checkout our website, and also check for stack updates by polling our update URL. For </div><div class="t m0 x0 h8 ya9 ff4 fs3 fc0 sc0 ls0 ws0">example, should you be on version 1.0 you can check for version 1.1 periodically. Even before Amazon releases it! It will be in this </div><div class="t m0 x0 h8 yaa ff4 fs3 fc0 sc0 ls0 ws0">format:</div><div class="t m0 x0 h8 yab ff4 fs3 fc0 sc0 ls0 ws0">https://amistacx.com/mp/stacx_change_logs/ami_stacx_laravel_5.5.<span class="ff3 fc1">{x} </span>change_log_v<span class="ff3 fc1">1</span>.<span class="ff3 fc1">{0}</span>.txt</div><div class="t m0 x0 h8 yac ff4 fs3 fc0 sc0 ls0 ws0">Just replace the version number by +1. e.g. v1.1 to see if anything has been updated. [Brackets <span class="ff3 fc1">{}</span> are variable integers]</div><div class="t m0 x0 h1b yad ff4 fs2 fc0 sc0 ls0 ws0">Thanks for selecting <span class="ff3">aMi STACX</span> as your Premium AWS EC2 stack provider! Better - Stronger - Faster</div><a class="l" href="https://amistacx.com/"><div class="d m1" style="border-style:none;position:absolute;left:154.664001px;bottom:458.619965px;width:119.367004px;height:13.799011px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
</div>
<div class="loading-indicator">

</div>
</body>
</html>
